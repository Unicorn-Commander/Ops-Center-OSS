# Ops-Center Environment Configuration Template
# Copy this file to .env.auth and fill in the values

# ========================================
# DEPLOYMENT CONFIGURATION
# ========================================
ENVIRONMENT=production  # production, staging, development
NODE_ENV=production

# ========================================
# KEYCLOAK SSO CONFIGURATION
# ========================================
KEYCLOAK_URL=http://uchub-keycloak:8080
KEYCLOAK_EXTERNAL_URL=https://auth.unicorncommander.ai
KEYCLOAK_REALM=uchub
KEYCLOAK_CLIENT_ID=ops-center
KEYCLOAK_CLIENT_SECRET=your-client-secret-here
KEYCLOAK_ADMIN_USER=admin
KEYCLOAK_ADMIN_PASSWORD=your-admin-password-here

# ========================================
# DATABASE CONFIGURATION
# ========================================
POSTGRES_HOST=unicorn-postgresql
POSTGRES_PORT=5432
POSTGRES_USER=unicorn
POSTGRES_PASSWORD=your-postgres-password-here
POSTGRES_DB=unicorn_db

# Database connection pool
DB_POOL_MIN=2
DB_POOL_MAX=10

# ========================================
# REDIS CONFIGURATION
# ========================================
REDIS_HOST=unicorn-redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Cache TTL (seconds)
CACHE_TTL_SHORT=60
CACHE_TTL_MEDIUM=300
CACHE_TTL_LONG=3600

# ========================================
# LAGO BILLING CONFIGURATION
# ========================================
LAGO_API_KEY=your-lago-api-key-here
LAGO_API_URL=http://unicorn-lago-api:3000
LAGO_PUBLIC_URL=https://billing-api.unicorncommander.ai
LAGO_SECRET_KEY=your-lago-secret-key-here
LAGO_ENCRYPTION_KEY=your-lago-encryption-key-here

# ========================================
# STRIPE CONFIGURATION
# ========================================
STRIPE_PUBLISHABLE_KEY=pk_test_your-key-here
STRIPE_SECRET_KEY=sk_test_your-key-here
STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret-here

# For production, use live keys:
# STRIPE_PUBLISHABLE_KEY=pk_live_your-key-here
# STRIPE_SECRET_KEY=sk_live_your-key-here

# ========================================
# LITELLM CONFIGURATION
# ========================================
LITELLM_MASTER_KEY=your-litellm-master-key-here
LITELLM_PROXY_URL=http://unicorn-litellm:4000
LITELLM_DATABASE_URL=postgresql://unicorn:password@unicorn-postgresql:5432/litellm_db

# ========================================
# APPLICATION CONFIGURATION
# ========================================
APP_NAME=Ops-Center
APP_VERSION=2.1.0
APP_URL=https://unicorncommander.ai

# Secret key for session management (generate with: openssl rand -hex 32)
SECRET_KEY=your-secret-key-here

# JWT Configuration
JWT_SECRET=your-jwt-secret-here
JWT_ALGORITHM=HS256
JWT_EXPIRATION=3600  # 1 hour

# ========================================
# EMAIL CONFIGURATION
# ========================================
SMTP_HOST=smtp.office365.com
SMTP_PORT=587
SMTP_USER=your-email@magicunicorn.tech
SMTP_PASSWORD=your-email-password-here
SMTP_FROM_NAME=Ops-Center
SMTP_FROM_EMAIL=noreply@unicorncommander.ai

# Email provider (microsoft, google, sendgrid, mailgun)
EMAIL_PROVIDER=microsoft

# ========================================
# SECURITY CONFIGURATION
# ========================================
# CORS Origins (comma-separated)
CORS_ORIGINS=https://unicorncommander.ai,https://brigade.unicorncommander.ai

# Session Configuration
SESSION_TIMEOUT=3600  # 1 hour
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=lax

# API Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ========================================
# DOCKER CONFIGURATION
# ========================================
# Docker socket (for service management)
DOCKER_SOCKET=/var/run/docker.sock
DOCKER_API_VERSION=1.41

# ========================================
# MONITORING & LOGGING
# ========================================
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT=json  # json or text

# Metrics
METRICS_ENABLED=true
METRICS_PORT=9090

# Sentry (optional)
SENTRY_DSN=
SENTRY_ENVIRONMENT=${ENVIRONMENT}

# ========================================
# FEATURE FLAGS
# ========================================
ENABLE_USER_REGISTRATION=true
ENABLE_SOCIAL_LOGIN=true
ENABLE_API_KEYS=true
ENABLE_IMPERSONATION=true
ENABLE_BULK_OPERATIONS=true
ENABLE_BILLING=true

# ========================================
# DEVELOPMENT OPTIONS
# ========================================
# Only use in development!
DEBUG=false
HOT_RELOAD=false
SKIP_AUTH=false
